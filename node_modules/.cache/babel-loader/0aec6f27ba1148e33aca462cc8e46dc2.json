{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\ido\\\\Desktop\\\\ITC_octber_2020\\\\FINAL_PROJECT_LEVEL_2\\\\test2\\\\first-dev-jobs-fe-2\\\\src\\\\components\\\\content\\\\Login.jsx\";\nimport React, { useState, useContext } from \"react\";\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\nimport ReactModal from \"react-modal\";\nimport mainContext from \"../lip/context\";\nimport { useHistory } from \"react-router-dom\";\nimport { loginUser } from \"../lip/api\"; // ========\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [isOpen, setIsOpen] = useState(false);\n  const [errorMessage, setErrorMessage] = useState(\"\");\n  const contextData = useContext(mainContext);\n  const historyFunc = useHistory(); // ========\n\n  const openModel = () => {\n    setPassword(\"\");\n    setErrorMessage(\"\");\n    setEmail(\"\");\n    setIsOpen(true);\n  };\n\n  const closeModel = () => {\n    setIsOpen(false);\n  };\n\n  const onLoginSubmit = async event => {\n    let loginObject = {\n      email,\n      password\n    };\n    event.preventDefault();\n    const userLogin = await loginUser(loginObject);\n\n    if (userLogin === \"unknown Email\") {\n      setErrorMessage(\"unknown Email\");\n    } else if (userLogin === \"incorrect password\") {\n      setErrorMessage(\"incorrect password\");\n    } else if (userLogin.commend === \"password is correct\") {\n      contextData.logInFunc(userLogin);\n      setIsOpen(false);\n      historyFunc.push(\"./HomePageOpen\");\n    }\n  }; // ========\n\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Button, {\n    onClick: openModel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }\n  }, \"login\"), /*#__PURE__*/React.createElement(ReactModal, {\n    ariaHideApp: false,\n    isOpen: isOpen,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: closeModel,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }\n  }, \" close\"), /*#__PURE__*/React.createElement(Card, {\n    className: \"my-form\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 11\n    }\n  }, \"Log In\"), errorMessage ? /*#__PURE__*/React.createElement(Alert, {\n    variant: \"danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 27\n    }\n  }, errorMessage) : \"\", /*#__PURE__*/React.createElement(Card.Body, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    onSubmit: event => {\n      onLoginSubmit(event);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicEmail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Email address\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"email\",\n    placeholder: \"Enter email\",\n    value: email,\n    required: true,\n    onChange: event => {\n      setEmail(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Form.Text, {\n    className: \"text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Form.Group, {\n    controlId: \"formBasicPassword\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Form.Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  }, \"Password\"), /*#__PURE__*/React.createElement(Form.Control, {\n    type: \"password\",\n    placeholder: \"Password\",\n    required: true,\n    value: password,\n    onChange: event => {\n      setPassword(event.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    variant: \"primary\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, \"Log In\"))))));\n}","map":{"version":3,"sources":["C:/Users/ido/Desktop/ITC_octber_2020/FINAL_PROJECT_LEVEL_2/test2/first-dev-jobs-fe-2/src/components/content/Login.jsx"],"names":["React","useState","useContext","Form","Button","Card","Alert","ReactModal","mainContext","useHistory","loginUser","Login","email","setEmail","password","setPassword","isOpen","setIsOpen","errorMessage","setErrorMessage","contextData","historyFunc","openModel","closeModel","onLoginSubmit","event","loginObject","preventDefault","userLogin","commend","logInFunc","push","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useContext } from \"react\";\r\nimport { Form, Button, Card, Alert } from \"react-bootstrap\";\r\nimport ReactModal from \"react-modal\";\r\nimport mainContext from \"../lip/context\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { loginUser } from \"../lip/api\";\r\n\r\n// ========\r\n\r\nexport default function Login() {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [errorMessage, setErrorMessage] = useState(\"\");\r\n  const contextData = useContext(mainContext);\r\n  const historyFunc = useHistory();\r\n\r\n  // ========\r\n\r\n  const openModel = () => {\r\n    setPassword(\"\");\r\n    setErrorMessage(\"\");\r\n    setEmail(\"\");\r\n    setIsOpen(true);\r\n  };\r\n  const closeModel = () => {\r\n    setIsOpen(false);\r\n  };\r\n  const onLoginSubmit = async (event) => {\r\n\r\n    let loginObject = { email, password };\r\n    event.preventDefault();\r\n    const userLogin = await loginUser(loginObject);\r\n    if (userLogin === \"unknown Email\") {\r\n      setErrorMessage(\"unknown Email\");\r\n    } else if (userLogin === \"incorrect password\") {\r\n      setErrorMessage(\"incorrect password\");\r\n    } else if (userLogin.commend === \"password is correct\") {\r\n      contextData.logInFunc(userLogin);\r\n      setIsOpen(false);\r\n      historyFunc.push(\"./HomePageOpen\");\r\n    }\r\n  };\r\n\r\n  // ========\r\n\r\n  return (\r\n    <>\r\n      <Button onClick={openModel}>login</Button>\r\n      <ReactModal ariaHideApp={false} isOpen={isOpen}>\r\n        <Button onClick={closeModel}> close</Button>\r\n        <Card className=\"my-form\">\r\n          <h2>Log In</h2>\r\n          {errorMessage ? <Alert variant={\"danger\"}>{errorMessage}</Alert> : \"\"}\r\n          <Card.Body>\r\n            <Form\r\n              onSubmit={(event) => {\r\n                onLoginSubmit(event);\r\n              }}\r\n            >\r\n              <Form.Group controlId=\"formBasicEmail\">\r\n                <Form.Label>Email address</Form.Label>\r\n                <Form.Control\r\n                  type=\"email\"\r\n                  placeholder=\"Enter email\"\r\n                  value={email}\r\n                  required\r\n                  onChange={(event) => {\r\n                    setEmail(event.target.value);\r\n                  }}\r\n                />\r\n                <Form.Text className=\"text-muted\"></Form.Text>\r\n              </Form.Group>\r\n              <Form.Group controlId=\"formBasicPassword\">\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control\r\n                  type=\"password\"\r\n                  placeholder=\"Password\"\r\n                  required\r\n                  value={password}\r\n                  onChange={(event) => {\r\n                    setPassword(event.target.value);\r\n                  }}\r\n                />\r\n              </Form.Group>\r\n              <Button variant=\"primary\" type=\"submit\">\r\n                Log In\r\n              </Button>\r\n            </Form>\r\n          </Card.Body>\r\n        </Card>\r\n      </ReactModal>\r\n    </>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}